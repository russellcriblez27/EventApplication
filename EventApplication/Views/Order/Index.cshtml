@model EventApplication.Models.ViewModels.OrderCartViewModel

@{
    ViewBag.Title = "Ticket Orders";
}

<h2>Ticket Orders</h2>

<br />
<div id="update-message"></div>

<table class="orders table">
    <tr>
        <th>
            Title
        </th>
        <th>
            Date Ordered
        </th>
        <th>
            Number of Tickets
        </th>
        <th>
            Order Status
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.OrderItems)
    {
        <tr id="order-@item.OrderId" class="order-rows">
            <td>
                @item.Events.Title
            </td>
            <td>
                @item.DateOrdered
            </td>
            <td>
                @item.NumberOfTickets
            </td>
            <td id="status-@item.OrderId">
                @item.Status
            </td>
            <td>
                @if (item.Status != "Cancelled")
                {
                <div id="remove-@item.OrderId"><a href="#" class="btn btn-red" data-id="@item.OrderId" >Remove</a></div>
                }

            </td>

        </tr>
    }

</table>

@Html.ActionLink("Back to Browse", "Index", "Home", null, htmlAttributes: new { @class = "btn btn-primary" })

@section Scripts
{
    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
    <script src="~/Scripts/Apps/EventScript.js"></script>
}